"use strict";!function(){let e=[],t=document.querySelectorAll("[data-da]"),o=[],r=[];if(t.length>0){let p=0;for(let r=0;r<t.length;r++){const n=t[r],s=n.getAttribute("data-da");if(""!=s){const t=s.split(","),r=t[1]?t[1].trim():"last",c=t[2]?t[2].trim():"767",l="min"===t[3]?t[3].trim():"max",d=document.querySelector("."+t[0].trim());t.length>0&&d&&(n.setAttribute("data-da-index",p),e[p]={parent:n.parentNode,index:(a=n,i=void 0,i=Array.prototype.slice.call(a.parentNode.children),i.indexOf(a))},o[p]={element:n,destination:document.querySelector("."+t[0].trim()),place:r,breakpoint:c,type:l},p++)}}(n=o).sort((function(e,t){return e.breakpoint>t.breakpoint?-1:1})),n.sort((function(e,t){return e.place>t.place?1:-1}));for(let e=0;e<o.length;e++){const t=o[e],n=t.breakpoint,a=t.type;r.push(window.matchMedia("("+a+"-width: "+n+"px)")),r[e].addListener(s)}}var n,a,i;function s(e){for(let e=0;e<o.length;e++){const t=o[e],n=t.element,a=t.destination,i=t.place,s="_dynamic_adapt_"+t.breakpoint;if(r[e].matches){if(!n.classList.contains(s)){let e=c(a)[i];"first"===i?e=c(a)[0]:"last"===i&&(e=c(a)[c(a).length]),a.insertBefore(n,a.children[e]),n.classList.add(s)}}else n.classList.contains(s)&&(p(n),n.classList.remove(s))}}function p(t){const o=t.getAttribute("data-da-index"),r=e[o],n=r.parent,a=r.index,i=c(n,!0)[a];n.insertBefore(t,n.children[i])}function c(e,t){const o=e.children,r=[];for(let e=0;e<o.length;e++){const n=o[e];(t||null==n.getAttribute("data-da"))&&r.push(e)}return r}s()}(),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");function t(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function o(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}e.addEventListener("submit",(async function(r){r.preventDefault();let n=function(e){let r=0,n=document.querySelectorAll("._req");for(let e=0;e<n.length;e++){const a=n[e];o(a),a.classList.contains("_email")?emailTest(a)&&(t(a),r++):("checkbox"===a.getAttribute("type")&&!1===a.checked||""===a.value)&&(t(a),r++)}return r}(),a=new FormData(e);if(0===n){e.classList.add("_sending");let t=await fetch("sendmail.php",{method:"POST",body:a});if(t.ok){let o=await t.json();alert(o.message),formPreview.innerHTML="",e.reset(),e.classList.remove("_sending")}else alert("Ошибка"),e.classList.remove("_sending")}else alert("Заполните обязательные поля")}))}));const popupLinks=document.querySelectorAll(".popup-link"),body=document.querySelector("body"),lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=800;if(popupLinks.length>0)for(let e=0;e<popupLinks.length;e++){const t=popupLinks[e];t.addEventListener("click",(function(e){const o=t.getAttribute("href").replace("#","");popupOpen(document.getElementById(o)),e.preventDefault()}))}const popupCloseIcon=document.querySelectorAll(".close-popup");if(popupCloseIcon.length>0)for(let e=0;e<popupCloseIcon.length;e++){const t=popupCloseIcon[e];t.addEventListener("click",(function(e){popupClose(t.closest(".popup")),e.preventDefault()}))}function popupOpen(e){if(e&&unlock){const t=document.querySelector(".popup.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||popupClose(e.target.closest(".popup"))}))}}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t&&bodyUnLock())}function bodyLock(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight=e}body.style.paddingRight=e,body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),800)}function bodyUnLock(){setTimeout((function(){if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")}),800),unlock=!1,setTimeout((function(){unlock=!0}),800)}document.addEventListener("keydown",(function(e){if(27===e.which){popupClose(document.querySelector(".popup.open"))}})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);var swiper=new Swiper(".rev__slider",{slidesPerView:1,slidesPerGroup:1,spaceBetween:100,speed:1e3,navigation:{nextEl:".rev__slider-next",prevEl:".rev__slider-prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:70,slidesPerGroup:1}}}),rellax=new Rellax(".rose");const anchors=document.querySelectorAll("a.scroll-to");for(let e of anchors)e.addEventListener("click",(function(t){t.preventDefault();const o=e.getAttribute("href");document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}));let header=gsap.timeline({scrollTrigger:{trigger:".header",start:"top center"}});window.innerWidth>737?header.from(".header__time",{duration:.7,ease:"power4.out",opacity:0,x:-100},"+=0.5").from(".header__title",{duration:.7,ease:"power4.out",opacity:0,x:-100},"-=0.4").from(".header__text",{duration:.7,ease:"power4.out",opacity:0,x:-100},"-=0.4").from(".header__btn",{duration:.7,ease:"power4.out",opacity:0,x:-100},"-=0.4"):header.from(".header__time",{duration:.8,ease:"power4.out",opacity:0,y:50},"+=0.2").from(".header__title",{duration:.8,ease:"power4.out",opacity:0,y:50},"-=0.4").from(".header__text",{duration:.8,ease:"power4.out",opacity:0,y:50},"-=0.4").from(".header__btn",{duration:.8,ease:"power4.out",opacity:0,y:50},"-=0.4");let know=gsap.timeline({scrollTrigger:{trigger:".know",start:"top center"}});window.innerWidth>737?know.from(".know__img",{duration:1.2,ease:"power4.out",opacity:0,x:-100},"+=0.2").from(".know__title",{duration:.7,ease:"power4.out",opacity:0,x:-100},"-=0.6").from(".know__text-item",{duration:.8,ease:"power4.out",opacity:0,x:-100,stagger:.3},"-=0.4"):know.from(".know__title",{duration:.7,ease:"power4.out",opacity:0,y:50},"+=0.2").from(".know__img",{duration:1,ease:"power4.out",opacity:0,y:50},"-=0.4").from(".know__text-item",{duration:.8,ease:"power4.out",opacity:0,y:50,stagger:.3},"-=0.6");let cases=gsap.timeline({scrollTrigger:{trigger:".cases",start:"top center"}});window.innerWidth>737?cases.from(".cases__title",{duration:.8,ease:"power4.out",opacity:0,x:-100},"+=0.2").from(".cases__img",{duration:1,ease:"power4.out",opacity:0,x:-100},"-=0.6").from(".cases__text-item",{duration:.8,ease:"power4.out",opacity:0,x:-100,stagger:.3},"-=0.4"):cases.from(".cases__title",{duration:1.2,ease:"power4.out",opacity:0,y:50},"+=0.2").from(".cases__img",{duration:.7,ease:"power4.out",opacity:0,y:50},"-=0.6").from(".cases__text-item",{duration:.8,ease:"power4.out",opacity:0,y:50,stagger:.3},"-=0.4");let speakers=gsap.timeline({scrollTrigger:{trigger:".speakers",start:"top center"}});window.innerWidth>737?speakers.from(".speakers__title",{duration:.8,ease:"power4.out",opacity:0,x:-100},"+=0.2").from(".speakers__img",{duration:1,ease:"power4.out",opacity:0,x:-100,stagger:.3},"-=0.6").from(".speakers__text-item",{duration:.8,ease:"power4.out",opacity:0,x:-100,stagger:.3},"-=0.4"):speakers.from(".speakers__title",{duration:.8,ease:"power4.out",opacity:0,y:50},"+=0.2").from(".speakers__img",{duration:1,ease:"power4.out",opacity:0,y:50,stagger:.3},"-=0.6").from(".speakers__text-item",{duration:.8,ease:"power4.out",opacity:0,y:50,stagger:.3},"-=0.4");let date=gsap.timeline({scrollTrigger:{trigger:".date",start:"top center"}});window.innerWidth>737?date.from(".date__title",{duration:1,ease:"power4.out",opacity:0,x:-100},"+=0.2").from(".date__time",{duration:.8,ease:"power4.out",opacity:0,x:-100},"-=0.6").from(".date__text",{duration:.8,ease:"power4.out",opacity:0,x:-100,stagger:.3},"-=0.4").from(".date__btn",{duration:.8,ease:"power4.out",opacity:0,x:-100},"-=0.4"):date.from(".date__title",{duration:1,ease:"power4.out",opacity:0,y:50},"+=0.2").from(".date__time",{duration:.8,ease:"power4.out",opacity:0,y:50},"-=0.6").from(".date__img",{duration:.8,ease:"power4.out",opacity:0,y:50},"-=0.6").from(".date__text",{duration:.8,ease:"power4.out",opacity:0,y:50,stagger:.3},"-=0.4").from(".date__btn",{duration:.8,ease:"power4.out",opacity:0,y:50},"-=0.4");